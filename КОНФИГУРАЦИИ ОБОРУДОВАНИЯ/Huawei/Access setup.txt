 Èçìåíèòü ïàðîëü è ïðî÷èå ïàðàìåòðû àóòåíòèôèêàöèè íà êîíñîëüíîì ïîðòó äàëåå ìîæíî ñ ïîìîùüþ ñëåäóþùèõ êîìàíä:
Ïðèìåð ñìåíû ïàðîëÿ

<HUAWEI> system-view
[~HUAWEI] user-interface console 0
[~HUAWEI-ui-console0] authentication-mode password
[~HUAWEI-ui-console0] set authentication password cipher <ïàðîëü>
[*HUAWEI-ui-console0] commit


Ïðèìåð íàñòðîéêè àäðåñà äëÿ èíòåðôåéñà VLAN 1:

[~HUAWEI] interface vlan 1
[~HUAWEI-Vlanif1] ip address 10.10.10.1 255.255.255.0
[~HUAWEI-Vlanif1] commit

[~Switch] interface 25GE 1/0/20
[~Switch-25GE1/0/20] port link-type access
[~Switch-25GE1/0/20] port access vlan 10
[~Switch-25GE1/0/20] commit



Íàñòðîéêà ïîðòà â ðåæèìå trunk:

[~Switch] interface 25GE 1/0/20
[~Switch-25GE1/0/20] port link-type trunk
[~Switch-25GE1/0/20] port trunk pvid vlan 10 - óêàçûâàåì native VLAN (ôðåéìû â ýòîì VLAN íå áóäóò èìåòü òåã â çàãîëîâêå)
[~Switch-25GE1/0/20] port trunk allow-pass vlan 1 to 20 - ðàçðåøàåì òîëüêî VLAN ñ òåãîì îò 1 äî 20 (äëÿ ïðèìåðà)
[~Switch-25GE1/0/20] commit


Äîñòóï ïî SSH                           <Router 1>display ssh server status 
Ãåíåðèðóåì êëþ÷è:

[~SSH Server] rsa local-key-pair create //Generate the local RSA host and server key pairs.

Íàñòðàèâàåì èíòåðôåéñò VTY

[~SSH Server] user-interface vty 0 4
[~SSH Server-ui-vty0-4] authentication-mode aaa 
[SSH Server-ui-vty0-4] user privilege level 3
[SSH Server-ui-vty0-4] protocol inbound ssh
[*SSH Server-ui-vty0-4] quit


Ñîçäàåì ëîêàëüíîãî ïîëüçîâàòåëÿ "client001" è íàñòðîèì åìó àóòåíòèôèêàöèþ ïî ïàðîëþ

[SSH Server] aaa
[SSH Server-aaa] local-user client001 password irreversible-cipher <password string>
[SSH Server-aaa] local-user client001 level 3
[SSH Server-aaa] local-user client001 service-type ssh
[SSH Server-aaa] quit
[SSH Server] ssh user client001 authentication-type password
Àêòèâèðóåì ñåðâèñ SSH íà êîììóòàòîðå

[~SSH Server] stelnet server enable
[*SSH Server] commit

Ôèíàëüíûé øòðèõ: íàñòðàèâàåì service-tupe äëÿ ïîëüçîâàòåëÿ client001

[~SSH Server] ssh user client001 service-type stelnet
[*SSH Server] commit




system-view
ip route-static 0.0.0.0  0.0.0.0 192.168.0.1
commit






Íàñòðîéêà SNMP

Ó êîììóòàòîðîâ Huawei åñòü äâå îñîáåííîñòè, î êîòîðûõ íàäî ïîìíèòü, íàñòðàèâàÿ snmp. Âî ïåðâûõ, åñëè ó âàñ âêëþ÷åí snmp v3, òî snmp v2c ðàáîòàòü íå áóäåò. 
Âî-âòîðûõ äëÿ snmp v2c ïðè íàñòðîéêå íà êîììóòàòîðå â êîíñîëå èìÿ community íàäî óêàçûâàòü â êàâû÷êàõ, 
è â ìîíèòîðèëêå (íàïðèìåð Dude) îíî òîæå äîëæíî áûòü óêàçàíî â êàâû÷êàõ (èñïîëüçîâàë äâîéíûå êàâû÷êè).

[Quidway]acl number 2100
[Quidway-acl-basic-2100]rule 1 permit source 172.20.0.33 0.0.0.0 // for one ip

[Quidway-acl-basic-2100] quit
[Quidway]snmp-agent sys-info version v2c
[Quidway]undo snmp-agent sys-info version v3
[Quidway]snmp-agent community read «huawei» acl 2100

Îïöèîíàëüíî ìîæíî äîáàâèòü êîíòàêòíûå äàííûå â snmp.

[Quidway]snmp-agent sys-info contact X Division
[Quidway]snmp-agent sys-info location Kremlin
Èñòî÷íèê: https://kslift.ru/nastroyka-dostupa-po-ssh-huawei 
